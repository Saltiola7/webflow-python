# This file was auto-generated by Fern from our API Definition.

from webflow import Webflow
from webflow import AsyncWebflow
import typing
from ..utilities import validate_response


async def test_list_(client: Webflow, async_client: AsyncWebflow) -> None:
    expected_response: typing.Any = {
        "redirects": [
            {"id": "42e1a2b7aa1a13f768a0042a", "fromUrl": "/mostly-harmless", "toUrl": "/earth"},
            {"id": "6x9e7f8d9a4b1c2d3e4f5678", "fromUrl": "/babel-fish", "toUrl": "/translate"},
        ],
        "pagination": {"limit": 100, "offset": 0, "total": 2},
    }
    expected_types: typing.Any = {
        "redirects": (
            "list",
            {0: {"id": None, "fromUrl": None, "toUrl": None}, 1: {"id": None, "fromUrl": None, "toUrl": None}},
        ),
        "pagination": {"limit": None, "offset": None, "total": None},
    }
    response = client.sites.redirects.list(site_id="580e63e98c9a982ac9b8b741")
    validate_response(response, expected_response, expected_types)

    async_response = await async_client.sites.redirects.list(site_id="580e63e98c9a982ac9b8b741")
    validate_response(async_response, expected_response, expected_types)


async def test_create(client: Webflow, async_client: AsyncWebflow) -> None:
    expected_response: typing.Any = {"id": "42e1a2b7aa1a13f768a0042a", "fromUrl": "/mostly-harmless", "toUrl": "/earth"}
    expected_types: typing.Any = {"id": None, "fromUrl": None, "toUrl": None}
    response = client.sites.redirects.create(
        site_id="580e63e98c9a982ac9b8b741", id="42e1a2b7aa1a13f768a0042a", from_url="/mostly-harmless", to_url="/earth"
    )
    validate_response(response, expected_response, expected_types)

    async_response = await async_client.sites.redirects.create(
        site_id="580e63e98c9a982ac9b8b741", id="42e1a2b7aa1a13f768a0042a", from_url="/mostly-harmless", to_url="/earth"
    )
    validate_response(async_response, expected_response, expected_types)


async def test_delete(client: Webflow, async_client: AsyncWebflow) -> None:
    expected_response: typing.Any = {
        "redirects": [
            {"id": "42e1a2b7aa1a13f768a0042a", "fromUrl": "/mostly-harmless", "toUrl": "/earth"},
            {"id": "6x9e7f8d9a4b1c2d3e4f5678", "fromUrl": "/babel-fish", "toUrl": "/translate"},
        ],
        "pagination": {"limit": 100, "offset": 0, "total": 2},
    }
    expected_types: typing.Any = {
        "redirects": (
            "list",
            {0: {"id": None, "fromUrl": None, "toUrl": None}, 1: {"id": None, "fromUrl": None, "toUrl": None}},
        ),
        "pagination": {"limit": None, "offset": None, "total": None},
    }
    response = client.sites.redirects.delete(site_id="580e63e98c9a982ac9b8b741", redirect_id="66c4cb9a20cac35ed19500e6")
    validate_response(response, expected_response, expected_types)

    async_response = await async_client.sites.redirects.delete(
        site_id="580e63e98c9a982ac9b8b741", redirect_id="66c4cb9a20cac35ed19500e6"
    )
    validate_response(async_response, expected_response, expected_types)


async def test_update(client: Webflow, async_client: AsyncWebflow) -> None:
    expected_response: typing.Any = {"id": "42e1a2b7aa1a13f768a0042a", "fromUrl": "/mostly-harmless", "toUrl": "/earth"}
    expected_types: typing.Any = {"id": None, "fromUrl": None, "toUrl": None}
    response = client.sites.redirects.update(
        site_id="580e63e98c9a982ac9b8b741",
        redirect_id="66c4cb9a20cac35ed19500e6",
        id="42e1a2b7aa1a13f768a0042a",
        from_url="/mostly-harmless",
        to_url="/earth",
    )
    validate_response(response, expected_response, expected_types)

    async_response = await async_client.sites.redirects.update(
        site_id="580e63e98c9a982ac9b8b741",
        redirect_id="66c4cb9a20cac35ed19500e6",
        id="42e1a2b7aa1a13f768a0042a",
        from_url="/mostly-harmless",
        to_url="/earth",
    )
    validate_response(async_response, expected_response, expected_types)
