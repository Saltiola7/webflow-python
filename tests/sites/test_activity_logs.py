# This file was auto-generated by Fern from our API Definition.

from webflow import Webflow
from webflow import AsyncWebflow
import typing
from ..utilities import validate_response


async def test_list_(client: Webflow, async_client: AsyncWebflow) -> None:
    expected_response: typing.Any = {
        "items": [
            {
                "id": "654c16c7b229e56bcf26872d",
                "createdOn": "2023-11-08T23:16:23Z",
                "lastUpdated": "2023-11-08T23:16:23Z",
                "event": "cms_collection",
                "resourceOperation": "CREATED",
                "user": {"id": "6509cd56e90eec668b009712", "displayName": "John Doe"},
                "resourceId": "654c16c7b229e56bcf26870c",
                "resourceName": "foo-bar",
                "newValue": "newValue",
                "previousValue": "previousValue",
                "payload": {"key": "value"},
            }
        ],
        "pagination": {"limit": 25, "offset": 0, "total": 1},
    }
    expected_types: typing.Any = {
        "items": (
            "list",
            {
                0: {
                    "id": None,
                    "createdOn": "datetime",
                    "lastUpdated": "datetime",
                    "event": None,
                    "resourceOperation": None,
                    "user": {"id": None, "displayName": None},
                    "resourceId": None,
                    "resourceName": None,
                    "newValue": None,
                    "previousValue": None,
                    "payload": ("dict", {0: (None, None)}),
                }
            },
        ),
        "pagination": {"limit": None, "offset": None, "total": None},
    }
    response = client.sites.activity_logs.list(site_id="580e63e98c9a982ac9b8b741")
    validate_response(response, expected_response, expected_types)

    async_response = await async_client.sites.activity_logs.list(site_id="580e63e98c9a982ac9b8b741")
    validate_response(async_response, expected_response, expected_types)
